[gd_scene load_steps=6 format=3 uid="uid://b1payd28naxy7"]

[ext_resource type="Script" path="res://scenes/player/player.gd" id="1_finnm"]
[ext_resource type="PackedScene" uid="uid://cpd203hmfijxs" path="res://utils/states/player_state_machine.tscn" id="1_xr3i2"]
[ext_resource type="Script" path="res://scenes/player/live.gd" id="2_6fyax"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_tmtqg"]

[sub_resource type="CircleShape2D" id="CircleShape2D_h3211"]
radius = 2.0

[node name="Player" type="Area2D"]
collision_layer = 0
collision_mask = 0
script = ExtResource("1_finnm")

[node name="VisualShape" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_tmtqg")
metadata/_edit_lock_ = true

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -5.0
offset_top = -5.0
offset_right = 5.0
offset_bottom = 5.0
color = Color(1, 0.0784314, 0.415686, 1)

[node name="Hurtbox" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 4

[node name="HurtboxShape" type="CollisionShape2D" parent="Hurtbox"]
shape = SubResource("CircleShape2D_h3211")
debug_color = Color(0.152941, 0.627451, 0.427451, 0.886275)

[node name="StateMachine" parent="." node_paths=PackedStringArray("initial_state") instance=ExtResource("1_xr3i2")]
initial_state = NodePath("Live")

[node name="Live" type="Node" parent="StateMachine"]
script = ExtResource("2_6fyax")

[node name="InvulnerabilityTimer" type="Timer" parent="."]
wait_time = 0.8
one_shot = true

[connection signal="area_entered" from="Hurtbox" to="." method="_on_hurtbox_area_entered"]
